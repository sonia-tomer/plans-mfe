<div class="edit-shipment-modal">
  <!-- Dialog Header -->
  <div class="modal-header">
    <div class="header-content">
      <h2 class="sf-pro-bold text-lg leading-[18px] text-[#06064D]">
        Edit Sample Shipment
      </h2>
      <button 
        type="button" 
        (click)="onCancel()"
        class="flex items-center justify-center p-0 w-5 h-5 cursor-pointer bg-transparent border-none"
      >
        <app-cdn-icon name="close" [width]="15" [height]="15"></app-cdn-icon>
      </button>
    </div>
  </div>

  <!-- Form Content -->
  <form [formGroup]="shipmentForm" class="modal-form">
    <div class="form-section">
      <!-- Weight Selection -->
      <div class="field-group">
        <label class="field-label">Weight</label>
        <div class="radio-group">
          @for (weight of weightOptions; track weight) {
            <label 
              class="radio-label"
              [class.bg-[rgba(116,91,231,0.1)]]="isSelected('weight', weight)"
              [class.border-[#745BE7]]="isSelected('weight', weight)"
              [class.bg-white]="!isSelected('weight', weight)"
              [class.border-[#D3D3D3]]="!isSelected('weight', weight)"
              [class.text-[#745BE7]]="isSelected('weight', weight)"
              [class.text-[#374151]]="!isSelected('weight', weight)"
              [class.sf-pro-medium]="isSelected('weight', weight)"
              [class.sf-pro-regular]="!isSelected('weight', weight)"
            >
              <input 
                type="radio" 
                [value]="weight" 
                formControlName="weight"
                class="hidden"
              >
              <span class="text-sm leading-5 tracking-[-0.150391px]">{{ weight }}</span>
            </label>
          }
        </div>
      </div>

      <!-- Mode Selection -->
      <div class="field-group">
        <label class="field-label">Mode</label>
        <div class="radio-group">
          @for (mode of modeOptions; track mode) {
            <label 
              class="radio-label"
              [class.bg-[rgba(116,91,231,0.1)]]="isSelected('mode', mode)"
              [class.border-[#745BE7]]="isSelected('mode', mode)"
              [class.bg-white]="!isSelected('mode', mode)"
              [class.border-[#D3D3D3]]="!isSelected('mode', mode)"
              [class.text-[#745BE7]]="isSelected('mode', mode)"
              [class.text-[#374151]]="!isSelected('mode', mode)"
              [class.sf-pro-medium]="isSelected('mode', mode)"
              [class.sf-pro-regular]="!isSelected('mode', mode)"
            >
              <input 
                type="radio" 
                [value]="mode" 
                formControlName="mode"
                class="hidden"
              >
              <span class="text-sm leading-5 tracking-[-0.150391px]">{{ mode }}</span>
            </label>
          }
        </div>
      </div>

      <!-- Payment Selection -->
      <div class="field-group">
        <label class="field-label">Payment</label>
        <div class="radio-group">
          @for (payment of paymentOptions; track payment) {
            <label 
              class="radio-label"
              [class.bg-[rgba(116,91,231,0.1)]]="isSelected('payment', payment)"
              [class.border-[#745BE7]]="isSelected('payment', payment)"
              [class.bg-white]="!isSelected('payment', payment)"
              [class.border-[#D3D3D3]]="!isSelected('payment', payment)"
              [class.text-[#745BE7]]="isSelected('payment', payment)"
              [class.text-[#374151]]="!isSelected('payment', payment)"
              [class.sf-pro-medium]="isSelected('payment', payment)"
              [class.sf-pro-regular]="!isSelected('payment', payment)"
            >
              <input 
                type="radio" 
                [value]="payment" 
                formControlName="payment"
                class="hidden"
              >
              <span class="text-sm leading-5 tracking-[-0.150391px]">{{ payment }}</span>
            </label>
          }
        </div>
      </div>

      <!-- Pickup and Delivery Pincode -->
      <div class="pincode-row">
        <!-- Pickup Pincode -->
        <div class="pincode-field">
          <label class="field-label">Pickup Pincode</label>
          <div class="w-full">
            <input 
              type="text" 
              formControlName="pickupPincode" 
              placeholder="110001"
              maxlength="6"
              inputmode="numeric"
              class="box-border flex flex-row items-center px-3 py-1 w-full h-9 bg-white border border-[#D3D3D3] rounded-lg sf-pro-regular text-sm leading-5 tracking-[-0.150391px] text-[#374151] focus:outline-none focus:ring-2 focus:ring-[#745BE7] focus:border-transparent"
              [class.border-red-500]="isFieldInvalid('pickupPincode')"
              (keypress)="onPincodeKeypress($event)"
              (input)="onPincodeInput('pickupPincode', $event)"
            >
            @if (isFieldInvalid('pickupPincode')) {
              <p class="text-xs text-red-600 sf-pro-regular mt-1">
                {{ getErrorMessage('pickupPincode') }}
              </p>
            }
          </div>
        </div>

        <!-- Delivery Pincode -->
        <div class="pincode-field">
          <label class="field-label">Delivery Pincode</label>
          <div class="w-full">
            <input 
              type="text" 
              formControlName="deliveryPincode" 
              placeholder="400059"
              maxlength="6"
              inputmode="numeric"
              class="box-border flex flex-row items-center px-3 py-1 w-full h-9 bg-white border border-[#D3D3D3] rounded-lg sf-pro-regular text-sm leading-5 tracking-[-0.150391px] text-[#374151] focus:outline-none focus:ring-2 focus:ring-[#745BE7] focus:border-transparent"
              [class.border-red-500]="isFieldInvalid('deliveryPincode')"
              (keypress)="onPincodeKeypress($event)"
              (input)="onPincodeInput('deliveryPincode', $event)"
            >
            @if (isFieldInvalid('deliveryPincode')) {
              <p class="text-xs text-red-600 sf-pro-regular mt-1">
                {{ getErrorMessage('deliveryPincode') }}
              </p>
            }
          </div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button type="button" (click)="onCancel()" class="btn-cancel">
        Cancel
      </button>
      <button type="button" (click)="onCalculate()" class="btn-submit">
        Calculate Shipment Cost
      </button>
    </div>
  </form>
</div>
